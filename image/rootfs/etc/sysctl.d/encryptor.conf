# Encryptor Simulator kernel parameters
#
# These apply to the default (init) namespace.  Namespace-specific settings
# for ns_pt are applied at runtime by the encryptor-namespaces service.

# Enable IPv4 forwarding (default ns forwards between veth_ct_default and xfrm*)
net.ipv4.ip_forward = 1

# Disable strict reverse-path filtering.  The encryptor routes tunnel traffic
# through xfrm interfaces and a veth pair, creating asymmetric paths that
# strict RP filtering incorrectly drops.  The effective rp_filter value is
# max(conf.all, conf.<iface>), so conf.all must be 0 for per-interface
# settings to take effect.  conf.default = 0 ensures dynamically created
# xfrm interfaces inherit the relaxed setting.
net.ipv4.conf.all.rp_filter = 0
net.ipv4.conf.default.rp_filter = 0
